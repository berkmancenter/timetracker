<div id="new-entry-error"></div>

<%= form_for @time_entry, url: edit_time_entries_url do |f| %>
  <%= f.hidden_field :id, value: params[:id] %>

  <h4 class="is-size-4">Time entry data</h4>

  <div class="field is-horizontal">
    <div class="field-label is-normal">
      <label class="label">Category</label>
    </div>
    <div class="field-body">
      <div class="field">
        <div class="control">
          <%= f.text_field :category, :accesskey => 'c', class: 'input' %> <span class="accesskey">alt-c</span>
        </div>
      </div>
    </div>
  </div>

  <div class="field is-horizontal">
    <div class="field-label is-normal">
      <label class="label">Project</label>
    </div>
    <div class="field-body">
      <div class="field">
        <div class="control">
          <%= f.text_field :project, :accesskey => 'p', class: 'input' %> <span class="accesskey">alt-p</span>
        </div>
      </div>
    </div>
  </div>

  <div class="field is-horizontal">
    <div class="field-label is-normal">
      <label class="label">Description</label>
    </div>
    <div class="field-body">
      <div class="field">
        <div class="control">
          <%= f.text_area :description, :accesskey => 'r', class: 'textarea' %> <span class="accesskey">alt-r</span>
        </div>
      </div>
    </div>
  </div>

  <div class="field is-horizontal">
    <div class="field-label is-normal">
      <label class="label">Time spent</label>
    </div>
    <div class="field-body">
      <div class="field">
        <div class="control">
          <%= f.text_field :decimal_time, :accesskey => 't', class: 'input' %> <span class="accesskey">alt-t</span>
        </div>
      </div>
    </div>
  </div>

  <div class="field is-horizontal">
    <div class="field-label is-normal">
      <label class="label">Date</label>
    </div>
    <div class="field-body">
      <div class="field">
        <div class="control">
          <%= f.text_field :entry_date, value: @time_entry[:entry_date].strftime('%B %d, %Y') || Time.now.strftime('%B %d, %Y'), :accesskey => 'a', class: 'input' %>
          <span class="calendar-entry"><%= image_tag('cal.svg', class: 'timetracker-icon') %></span>
          <span class="accesskey">alt-a</span>
        </div>
      </div>
    </div>
  </div>

  <div class="field is-horizontal">
    <div class="field-label is-normal"></div>
    <div class="field-body">
      <div class="field">
        <div class="control">
          <%= submit_tag (@time_entry.new_record?) ? 'Add Entry' : 'Edit Entry', :accesskey => 's', class: 'button is-success' %> <span class="accesskey">alt-s</span>
          <%= image_tag('ajax-loader.gif', :id => :loader, :style => "display: none;") %>
        </div>
      </div>
    </div>
  </div>
<% end %>

<script type="text/javascript">
  if ($('#time_entry_category').length) {
    $('#time_entry_category').focus();
  }
</script>
