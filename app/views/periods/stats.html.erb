<div class="content">
  <h1 class="is-size-1">Statistics</h1>
  <h3 class="is-size-3">
    for
    <span class="tag is-info is-large"><%= @period.name %></span>
    from <span class="tag is-info is-large"><%= @period.from %></span> to <span class="tag is-info is-large"><%= @period.to %></span>
  </h3>

  <table class="table periods-stats-table">
    <thead>
      <tr>
        <th>Username</th>
        <th>Email</th>
        <th>Credits</th>
        <th>Total hours</th>
        <th>Should have now</th>
        <th>Balance</th>
        <th>Balance percentage</th>
      </tr>
    </thead>
    <tbody>
      <% @stats.each do |stat| %>
        <tr>
          <td><%= clean_username(stat['username']) %></td>
          <td><%= stat['email'] %></td>
          <td><%= stat['credits'] %></td>
          <td><%= stat['total_hours'] %></td>
          <td><%= stat['should_hours'].round(2) %></td>
          <td class="period-balance<% if stat['balance'] < 0 %> period-negative-balance<% end %>"><%= stat['balance'].round(2) %></td>
          <td><%= stat['balance_percent'].round(2) %>%</td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
